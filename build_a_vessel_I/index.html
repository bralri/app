<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>test</title>
    <style>
        * {
          overflow: hidden;
          background-color: whitesmoke;
        }
        
        body {
          padding: 0;
          margin: 0;
        }
      </style>
</head>
<body>

    <main>

        <script src="../js/three.min.js"></script>
        <script src="../js/DragControls.js"></script>
        <script src="../js/GLTFLoader.js"></script>

        <script>

            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(
                75,
                window.innerWidth / window.innerHeight,
                0.1,
                2000
            );
            camera.position.z = 1000;

            const renderer = new THREE.WebGLRenderer({
                alpha: true,
				antialias: true 
            });
            renderer.setSize(window.innerWidth, window.innerHeight);
            document.body.appendChild(renderer.domElement);

            renderer.outputEncoding = THREE.sRGBEncoding;

            window.addEventListener('resize', function() {
                const width = window.innerWidth;
                const height = window.innerHeight;
                renderer.setSize(width, height);
                camera.aspect = width/height;
                camera.updateProjectionMatrix();
            })

            let objectArray = [];

            function init() {

                const ambientLight = new THREE.AmbientLight(0xffffff);
                scene.add(ambientLight);

                const loader = new THREE.GLTFLoader();

                for (let i = 0; i < 5; i++) {

                    loader.load(
                        '../../gltf/' + i + '.glb',

                        function(gltf) {
                            model = gltf.scene;

                            model.position.x = Math.random() * 1000 - 500;
                            model.position.y = Math.random() * 1000 - 500;

                            model.rotation.y = Math.random() * 2 * Math.PI;

                            model.scale.set(200, 200, 200);

                            scene.add(model);
                            objectArray.push(model);
                        }
                    )
                }

                let controls = new THREE.DragControls(objectArray, camera, renderer.domElement)
            }

            function animate() {
                requestAnimationFrame(animate);
                renderer.render(scene, camera);
            }

            init();
            animate();

        </script>

    </main>
    
</body>
</html>